---
layout: main
title: Performance and SEO
priority: 0
summary: Great performance and search engine optimisation are important for any website. With client-side microfrontends, this can be a bit challenging. So, let’s discuss how we can even outperform other approaches with the right techniques.
---

## Keep it Simple, Keep it Lean


high-performance is not intrinsic, but here are a few patterns. First and foremost: stop putting developer experience over user experience. learn about the JS language, if you really have to write your code with a framework that relies on heavy transpilation, have a look at the output it produces. set performance budgets and test for them.



## Static Site Generation

When combined with Static Site Generation plus

Most parts of a website don’t have to be rendered dynamically on the client side. And they don’t have to be rendered on the server side on each request either.

## Prerendering

Prerendering is among the best things you can do to increase performance and SEO as well as the user experience.

Prerendering with OpenMFE works as follows: As the web component consists of an opening and a closing tag which are ignored by the browser until the custom element is registered, we can place any content there to be displayed as a placeholder, also known as a “skeleton”:

```html
<my-microfrontend>
    <div style="width: 100%; height: 100%; border: 1px dotted #aaa; background: #eee; display: flex; align-items: center; justify-content: center">
        <div>
            LOADING …
        </div>
    </div>
</my-microfrontend>
```

This placeholder can be handcrafted, but every OpenMFE microfrontend is expected to provide a prerendering API endpoint which should provide suitable content. The prerendering endpoint is expected to accept the same parameters as query strings as the frontend accepts as attributes. This allows creating matching prerendered content for a certain configuration of microfrontend.

The ideal output of the prerendering endpoint very much depends on the use case of the microfrontend. It is definitely an opportunity for adding SEO-relevant content into the page—but at the same time, it can get stale if the page isn’t refreshed frequently (which is not unusual with [Static Site Generation](/architecture/static-site-generation/)).

From a technical perspective, the prerendered output must be simple HTML with inline CSS. JavaScript is not allowed because it could potentially interfere with the host page, which is can cause side effects and security issues. CSS `<style>` blocks are not allowed, because the HTML specification does not allow them in the body of an HTML document. You can however use SVG, even with animations.

For an example of prerendering output, see the [Hotel Cards microfrontend](https://github.com/openmfe/demo-microfrontend/blob/main/backend/src/prerender.js).

A word of caution: Technically, it would be possible that the custom element “takes over” the prerendered output: In such a scenario, most of the HTML would be inserted into the page, and the custom element would ingest it into it’s Shadow DOM. However, this is not a good idea and should be avoided: The custom element cannot know which version of itself generated the prerendered HTML, or if it has been generated by itself at all. The prerendered output should always be discarded/replaced by the custom element. What it can do, though, is fill the Shadow DOM with the skeleton HTML until the real content can be rendered, e.g. if it depends on the response of an API call. This can improve the user experience a lot.

Embedding the prerendered content can happen at build time or through edge side includes (ESI), which might look as follows:

```html
<my-microfrontend some-attr="foo" other-attr="bar">
    <esi:include src="https://backend.example.com/prerender?some-attr=foo&other-attr=bar" />
</my-microfrontend>
```

## Avoiding overhead

Most of them are not unique to microfrontends, but as we often have multiple microfrontends on one web page and even do

- Don’t put DX over UX!
- No transpilation
- No fat frameworks and libraries
- Use something like Rollup + plugins to shave off every unnecessary bit
- Use modern CSS …

Do not:
- In order to share styles, you can use a design library. But do not share CSS files on a host page! This will create a dependency. It can make sense to put generic icons on a CDN, but even they should be treated as “service” with a contract, i.e. no breaking changes in URLs and appearance. Versioning highly recommended.


## Leveraging the HTTP Protocol

- Caching
    - headers
    - query string cache buster


- HTTP/3
- Demystifying HTTP/2: There is no push (a word about a technique that has been hyped for no good reason)


## Structured Data

Another possibility to increase the SEO relevance of web pages is the embedding of [structured data](https://developers.google.com/search/docs/appearance/structured-data/intro-structured-data). With OpenMFE, a microfrontend can expose an (optional) endpoint to provide structured, or: semantic, data. If present, such an endpoint is expected to return a [JSON-LD](https://www.w3.org/2001/sw/wiki/JSON-LD) object with [schema.org entities](https://schema.org/docs/full.html).

It depends on the use case of a microfrontend if providing such data and the correstponding endpoint. It should be considered in any case, because it is easy to implement and can have positive effects on the discoverability of your content by search engines and users.